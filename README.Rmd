---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  warning = FALSE,
  message = FALSE,
  error = FALSE,
  collapse = TRUE,
  comment = "#>",
  out.width = "100%",
  fig.path = "man/figures/README-",
  fig.width = 9,
  fig.height = 5,
  dpi = 300
)
```

# predictr

<!-- badges: start -->
[![Lifecycle: experimental][life_badge]][life_link]
[![CRAN status][cran_badge]][cran_link]
[![Travis build status][trav_badge]][trav_link]
[![Codecov test coverage][cov_badge]][cov_link]
<!-- badges: end -->

The goal of predictr is to access the price of binary contracts trading on the
[PredictIt][pi] prediction market. The price of these contracts represents the
crowdsourced probability of these events occuring.

## Installation

You can install the development version from [GitHub]() with:

``` r
# install.packages("devtools")
devtools::install_github("kiernann/predictr")
```

## Usage

```{r print-markets}
library(tidyverse)
library(predictr)
market_price(mid = 6403) %>% arrange(contract)
```

```{r plot-market}
market_history(mid = 3633) %>% 
  filter(contract %in% c("Sanders", "Biden", "Bloomberg", "Buttigieg")) %>% 
  ggplot(aes(x = time, y = close)) +
  geom_line(aes(color = contract), size = 2) +
  scale_y_continuous(labels = scales::percent) +
  theme(legend.position = "bottom") +
  labs(title = "Democratic nominee", color = "Contract", y = "Price", x = "Date")
```

<!-- refs: start -->
[life_badge]: https://img.shields.io/badge/lifecycle-maturing-blue.svg
[life_link]: https://www.tidyverse.org/lifecycle/#experimental
[cran_badge]: https://www.r-pkg.org/badges/version/predictr
[cran_link]: https://CRAN.R-project.org/package=predictr
[trav_badge]: https://travis-ci.org/kiernann/predictr?branch=master
[trav_link]: https://travis-ci.org/kiernann/predictr
[cov_badge]: https://codecov.io/gh/kiernann/predictr/branch/master/graph/badge.svg
[cov_link]: https://codecov.io/gh/kiernann/predictr?branch=master
[pi]: https://www.predictit.org/
[gh]: https://github.com/kiernann/predictr
<!-- refs: end -->
